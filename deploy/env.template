# PKB 项目环境变量配置模板
# 使用说明：
# 1. 复制此文件为 .env：cp env.template .env
# 2. 根据实际情况修改以下配置
# 3. 确保 .env 文件不被提交到版本控制系统

# ===========================================
# Turing 平台 API 配置（必须）
# ===========================================
TURING_API_KEY=sk-nwplXGXQnZFEBNvbjdc8t4TdxsuivHuLW1NnjyyBTTG
TURING_API_BASE=https://live-turing.cn.llm.tcljd.com/api/v1
EMBEDDING_MODEL=text-embedding-3-small

# QA 问答模型配置
QA_MODEL=turing/gpt-4o-mini

# 智能分类模型配置
CLASSIFICATION_MODEL=turing/gpt-4o-mini
VISION_MODEL=turing/gpt-4o-mini

# ===========================================
# 数据库配置
# ===========================================
POSTGRES_HOST=postgres
POSTGRES_DB=pkb
POSTGRES_USER=pkb
POSTGRES_PASSWORD=pkb
DATABASE_URL=postgresql://pkb:pkb@postgres/pkb

# ===========================================
# Redis 配置
# ===========================================
REDIS_URL=redis://redis:6379/0

# ===========================================
# Nextcloud WebDAV 配置（必须）
# ===========================================
NC_WEBDAV_URL=https://nextcloud.kmchat.cloud/remote.php/dav/files/kc/PKB-Inbox
NC_USER=kc
NC_PASS=Seucyq19801007

# 支持的文件扩展名（包含图片格式）
NC_EXTS=.txt,.md,.pdf,.jpg,.jpeg,.png,.gif,.bmp,.webp

# ===========================================
# 本地 Embedding 配置
# ===========================================
USE_LOCAL_EMBEDDING=false
LOCAL_EMBEDDING_MODEL=paraphrase-multilingual-MiniLM-L12-v2

# ===========================================
# 可选：OpenAI 官方 API 配置
# ===========================================
# 如果不使用 Turing 平台，可以配置 OpenAI 官方 API
# OPENAI_API_KEY=your_openai_api_key
# OPENAI_API_BASE=https://api.openai.com/v1

# ===========================================
# 应用配置
# ===========================================
# 日志级别
LOG_LEVEL=INFO

# 调试模式
DEBUG=false

# CORS 允许的域名
CORS_ORIGINS=https://pkb.kmchat.cloud,https://kb.kmchat.cloud,https://nextcloud.kmchat.cloud


# Celery 配置
CELERY_BROKER_URL=redis://redis:6379/0
CELERY_RESULT_BACKEND=redis://redis:6379/0

# MaxKB
MAXKB_BASE_URL=https://kb.kmchat.cloud
MAXKB_COLLECTION=pkb_main
MAXKB_API_KEY=application-402094d777495773096e1c5883d10830
MAXKB_APPLICATION_ID=019927d7-7ba6-7952-85cb-80a37b76ec75

# Host
PUBLIC_DOMAIN=pkb.kmchat.cloud