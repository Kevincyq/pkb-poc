# PKB 云端部署环境变量配置模板
# 使用说明：
# 1. 复制此文件为 .env：cp env.cloud.template .env
# 2. 根据实际情况修改以下配置
# 3. 确保 .env 文件不被提交到版本控制系统

# ===========================================
# 🔑 Turing 平台 API 配置（必须配置）
# ===========================================
TURING_API_KEY=your_turing_api_key_here
TURING_API_BASE=https://live-turing.cn.llm.tcljd.com/api/v1
EMBEDDING_MODEL=text-embedding-3-small

# QA 问答模型配置
QA_MODEL=turing/gpt-4o-mini

# 智能分类模型配置
CLASSIFICATION_MODEL=turing/gpt-4o-mini
VISION_MODEL=turing/gpt-4o-mini

# ===========================================
# 🗄️ 数据库配置
# ===========================================
POSTGRES_PASSWORD=pkb_secure_2024_change_me
POSTGRES_HOST=postgres
POSTGRES_DB=pkb
POSTGRES_USER=pkb

# ===========================================
# 🔄 Redis 配置
# ===========================================
REDIS_URL=redis://redis:6379/0

# ===========================================
# ☁️ Nextcloud WebDAV 配置（必须配置）
# ===========================================
NC_WEBDAV_URL=https://your-nextcloud-domain.com/remote.php/dav/files/username/PKB-Inbox
NC_USER=your_nextcloud_username
NC_PASS=your_nextcloud_password

# 支持的文件扩展名（包含图片格式）
NC_EXTS=.txt,.md,.pdf,.jpg,.jpeg,.png,.gif,.bmp,.webp

# ===========================================
# 🌐 应用配置
# ===========================================
# 服务端口配置
PKB_PORT=8002
FLOWER_PORT=5555

# 日志级别
LOG_LEVEL=INFO

# 调试模式（生产环境建议设为 false）
DEBUG=false

# CORS 允许的域名（生产环境请设置具体域名）
CORS_ORIGINS=https://your-domain.com,https://api.your-domain.com

# ===========================================
# 🔧 Celery 配置
# ===========================================
CELERY_BROKER_URL=redis://redis:6379/0
CELERY_RESULT_BACKEND=redis://redis:6379/0

# ===========================================
# 📊 可选：监控和日志配置
# ===========================================
# 是否启用 Flower 监控（生产环境建议启用）
ENABLE_MONITORING=true

# ===========================================
# 🔒 安全配置（生产环境重要）
# ===========================================
# JWT 密钥（请生成随机字符串）
JWT_SECRET_KEY=your_jwt_secret_key_change_me

# 数据库加密密钥（请生成随机字符串）
DB_ENCRYPTION_KEY=your_db_encryption_key_change_me

# ===========================================
# 📝 部署信息（自动填充，无需手动修改）
# ===========================================
# 部署时间戳（部署脚本会自动设置）
DEPLOY_TIMESTAMP=

# Git 提交哈希（部署脚本会自动设置）
GIT_COMMIT_HASH=

# 部署环境标识
ENVIRONMENT=production
